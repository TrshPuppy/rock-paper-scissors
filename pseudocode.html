<!DOCTYPE html>
<html lang = 'en'>
    <head>
        <meta charset = "UTF-8">
        <title> Rock Paper Scissors</title>
    </head>

    <body>
        <script>
        //Function using 'gameRound' to play 5-round game:
        function game()
        {
            let userGamesScore = 0;
            let compGamesScore = 0;
            let totalRounds = 0;

            // Function to play round using player selections:
            function gameRound()
            {
                //prompt user for choice in rock, paper, or scissors. store choice in "userPlay"
                let userPlay = String(prompt("Rock, paper, or scissors?"));
        
                let userScore = 0; //initialize userScore
                if(userPlay == "rock" || userPlay == "ROCK" || userPlay == "r" || userPlay == "R" || userPlay == "Rock")
                {
                    userScore += 2;
                    console.log("You chose: rock");
                }
                else if(userPlay == "paper" || userPlay == "PAPER" || userPlay == "p" || userPlay == "P" || userPlay == "Paper")
                {
                userScore += 0;
                console.log("You chose: paper");
                }
                else if (userPlay == "scissors" || userPlay == "SCISSORS" || userPlay == "s" || userPlay == "S" || userPlay == "Scissors")
                {
                    userScore += 1;
                    console.log("You chose: scissors");
                }

                //generate random choice of rock/paper/scissors for computer. store in "computerScore"
                function randomSelection()
                {
                    function getRandomNum(max)
                    {
                        return Math.floor(Math.random() * max);
                    }
                    let num = getRandomNum(4);

                    let selection = 0;
                    if(num == "1") // rock
                    {
                        selection += 2;
                        console.log("The computer chose: rock");
                    }
                    else if(num == "2") // scissors
                    {
                        selection += 1;
                        console.log("The computer chose: scissors");
                    }
                    else
                    {
                        selection += 0;// paper
                        console.log("The computer chose: paper");
                    }
                return selection;
                }

                const computerScore = randomSelection();

                let result;
                let compWin = false;
                let userWin = false;
                let outcome = 
                {
                    tie: false,
                    userWin: false,
                    compWin: false,
                    result: "none"
                }

                // compare computer score to user score to determine winner:
                if(userScore == computerScore)
                {
                    outcome.result = "You tied!";
                    outcome.tie = true;
                }
                else if(userScore == 0 && computerScore == 2) // if user chooses paper && computer chooses rock
                {
                    outcome.result = "You win! Paper beats rock!";
                    outcome.userWin = true;
                }
                else if(computerScore == 0 && userScore == 2) // if computer chooses paper && user chooses rock
                {
                    outcome.result = "You lose! Paper beats rock!";
                    outcome.compWin = true;
                }
                else if(userScore > computerScore)
                {  
                    if(userScore == 2 && computerScore == 1)
                    {
                        outcome.result = "You win! Rock beats scissors!"
                        outcome.userWin = true;
                    }
                    else if(userScore == 1 && computerScore == 0)
                    {
                        outcome.result = "You win! Scissors beat paper!";
                        outcome.userWin = true;
                    }
                }
                else
                {
                    if(computerScore == 2 && userScore == 1)
                    {
                        outcome.result = "You lose! Rock beats scissors!";
                        outcome.compWin = true;
                    }
                    else if (computerScore == 1 && userScore == 0)
                    {
                        outcome.result = "You lose! Scissors beat paper!";
                        outcome.compWin = true;
                    }
                }
            return outcome;
            }
            
            let outcome = 
            {
                tie: false,
                uWin: false,
                cWin: false,
                result: "none",
            }

            for(let i = 0; i < 5; i++)
            {
                outcome = gameRound;
                totalRounds += 1;
            }
            console.log("user score is: ", userGamesScore);
            console.log("total game rounds: ", totalRounds);

            return userGamesScore;
         }
        </script>
    </body>
</html>

